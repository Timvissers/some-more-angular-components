"use strict";!function(){angular.module("smac.config",[]).value("smac.config",{debug:!0}),angular.module("smac.directives",["smac-grid"]),angular.module("smac.filters",[]),angular.module("smac.services",["smac-error-handler","smac-fetch"]),angular.module("smac",["smac.config","smac.directives","smac.filters","smac.services"]),angular.module("smac-grid",[]).run(function(e){e.put("smac-grid.html",'<div>\n    <div ng-repeat="field in fields">{{field | uppercase}}</div>\n    </div>\n    <div ng-repeat="item in list">\n        <div ng-repeat="field in fields">\n        <div>{{item[field]}}</div>\n    </div>\n</div>\n')}).directive("smacGrid",function(){return{restrict:"E",scope:{list:"=",fields:"="},templateUrl:"smac-grid.html"}}),angular.module("smac-error-handler",[]).factory("SMACErrorHandler",["$rootScope","$window",function(e,r){var n={getError:function(){return e.errorMessage},setError:function(r){e.errorMessage=r},resetError:function(){e.errorMessage=""}};return e.$on("$viewContentLoaded",n.resetError),e.$watch("errorMessage",function(){e.errorMessage&&r.alert(e.errorMessage)}),n}]),angular.module("smac-fetch",["smac-error-handler"]).provider("SMACJsonFetcher",function(){function e(){this.all=function(e){return new r(e)},this.one=function(e,r){return new n(e,r)}}function r(e){this.location=e,this.getList=function(r){fetch(e).then(function(e){return e.json()}).then(function(e){o.rootScope.$apply(function(){r(e)})})["catch"](function(r){o.rootScope.$apply(function(){console.error(r),o.errorHandler.setError("Unexpected error while fetching "+e)})})},this.addOne=function(r){fetch(e,{method:"post",body:JSON.stringify(r),headers:t})}}function n(e,r){this.location=e,this.id=r,this.getOne=function(r){fetch(e).then(function(e){return e.json()}).then(function(e){o.rootScope.$apply(function(){r(e)})})["catch"](function(r){o.rootScope.$apply(function(){console.error(r),o.errorHandler.setError("Unexpected error while fetching "+e+"/"+this.id)})})},this.putOne=function(n){fetch(e+"/"+r,{method:"put",body:n,headers:t})},this.deleteOne=function(){fetch(e+"/"+r,{method:"delete"})}}var t={Accept:"application/json","Content-Type":"application/json"},o=this;this.$get=function(r,n){return o.rootScope=r,o.errorHandler=n,new e}})}();